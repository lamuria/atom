{"mode":"editor","version":1,"windowDimensions":{"x":0,"y":23,"width":1264,"height":773,"maximized":false},"grammars":{"deserializer":"GrammarRegistry","grammarOverridesByPath":{}},"project":{"paths":["/Users/marcoslamuria/Documents/rupeal/clanhr/absences-api/src/clanhr/absences_api/controllers"],"buffers":[{"text":"(ns clanhr.absences-api.controllers.routes\n  (:use compojure.core)\n  (:gen-class)\n  (:require [clojure.stacktrace]\n            [compojure.handler :as handler]\n            [clanhr.auth.auth-middleware :as auth]\n            [clanhr.absences-api.controllers.index :as index]\n            [clanhr.absences-api.controllers.save-absence :as save-absence]\n            [clanhr.absences-api.controllers.change-absence-state :as change-absence-state]\n            [clanhr.absences-api.controllers.list-absences :as list-absences]\n            [clanhr.absences-api.controllers.user-absences :as user-absences]\n            [clanhr.absences-api.controllers.get-absence :as get-absence]\n            [clanhr.absences-api.controllers.sync-user :as sync-user]\n            [clanhr.analytics.errors :as errors]\n            [clanhr.analytics.metrics :as metrics]\n            [clanhr.reply.core :as reply]\n            [clojure.data.json :as json]\n            [ring.adapter.jetty :as jetty]\n            [ring.middleware.params :as ring-params]\n            [ring.middleware.cors :as cors]\n            [compojure.core :as core]\n            [compojure.route :as route]))\n\n(defroutes public-routes\n  (GET \"/\" [] (index/handler)))\n\n(defroutes private-routes\n  (GET \"/user-absences/:user-id\" request (user-absences/handler request))\n  (GET \"/absences/:user-id\" request (list-absences/handler request))\n  (GET \"/absence/:absence-id\" request (get-absence/handler request))\n  (POST \"/absences/:user-id\" request (save-absence/handler request))\n  (PUT \"/absences/:user-id\" request (save-absence/handler request))\n  (PUT \"/absences/change-state/:absence-id\" request (change-absence-state/handler request))\n  (POST \"/sync-user\" request (sync-user/handler request))\n  (PUT \"/sync-user\" request (sync-user/handler request)))\n\n(defn- wrap-exception-handler\n  [handler]\n  (fn [req]\n    (try\n      (handler req)\n      (catch Exception e\n        (errors/request-exception e req)\n        (reply/exception e)))))\n\n(defn- setup-cors\n  \"Setup cors\"\n  [handler]\n  (cors/wrap-cors handler\n                  :access-control-allow-origin\n                  [#\"^https?://(.+\\.)?clanhr.com(.*)\"\n                   #\"^http://localhost(.*)\"]\n                  :access-control-allow-methods [:get :put :post :delete]))\n(def app\n  (-> (core/routes\n        public-routes\n        (-> (handler/api private-routes)\n            (auth/run)))\n      (compojure.handler/api)\n      (wrap-exception-handler)\n      (setup-cors)\n      (metrics/http-request-metric-fn \"absences-api\")))\n\n(defn -main [& args]\n  (let [port (Integer/parseInt (get (System/getenv) \"PORT\" \"5000\"))]\n    (jetty/run-jetty app {:port port})))\n","markers":{"markers":{"1":{"id":1,"range":[[32,0],[32,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"preserveFolds":true},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/marcoslamuria/Documents/rupeal/clanhr/absences-api/src/clanhr/absences_api/controllers/routes.clj","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"3419fe937c185ccb4cb347c533b9b3504ec344be","deserializer":"TextBuffer"},{"text":"(ns clanhr.absences-api.controllers.index\n  (:require [clanhr.reply.core :as reply]))\n\n(defn handler\n  \"Root\"\n  []\n  (reply/ok {:name \"ClanHR Absences API\"}))\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":16,"goalScreenRange":null,"preserveFolds":true},"deserializer":"Marker"},"4":{"id":4,"range":[[0,0],[2,0]],"tailed":true,"reversed":false,"valid":false,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"5":{"id":5,"range":[[2,0],[2,0]],"tailed":true,"reversed":false,"valid":false,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"8":{"id":8,"range":[[0,0],[2,0]],"tailed":true,"reversed":false,"valid":false,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"9":{"id":9,"range":[[2,0],[2,0]],"tailed":true,"reversed":false,"valid":false,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"10":{"id":10,"range":[[0,0],[2,0]],"tailed":true,"reversed":false,"valid":false,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"11":{"id":11,"range":[[2,0],[2,0]],"tailed":true,"reversed":false,"valid":false,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"12":{"id":12,"range":[[0,0],[2,0]],"tailed":true,"reversed":false,"valid":false,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"13":{"id":13,"range":[[2,0],[2,0]],"tailed":true,"reversed":false,"valid":false,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"14":{"id":14,"range":[[0,0],[2,0]],"tailed":true,"reversed":false,"valid":false,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"15":{"id":15,"range":[[2,0],[2,0]],"tailed":true,"reversed":false,"valid":false,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"26":{"id":26,"range":[[0,0],[0,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"27":{"id":27,"range":[[1,42],[1,43]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"28":{"id":28,"range":[[0,0],[0,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"29":{"id":29,"range":[[1,42],[1,43]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"30":{"id":30,"range":[[0,0],[0,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"31":{"id":31,"range":[[1,42],[1,43]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"32":{"id":32,"range":[[0,0],[0,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"33":{"id":33,"range":[[1,42],[1,43]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"34":{"id":34,"range":[[0,0],[0,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"35":{"id":35,"range":[[1,42],[1,43]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/marcoslamuria/Documents/rupeal/clanhr/absences-api/src/clanhr/absences_api/controllers/index.clj","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"4260cde79354ff7ae525d6206f3714f0e090b04a","deserializer":"TextBuffer"},{"text":"","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":22,"goalScreenRange":null,"preserveFolds":true},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/src/clanhr/directory_api/core/auth.clj","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"da39a3ee5e6b4b0d3255bfef95601890afd80709","deserializer":"TextBuffer"},{"text":"(ns clanhr.auth.core\n  \"Handle auth tokens\"\n  (:require [environ.core :refer [env]]\n            [clj-jwt.core  :refer :all]\n            [clj-time.core :refer [now plus days]]))\n\n(defn secret\n  \"Returns a secret based on environment variables\"\n  ([]\n   (secret env))\n  ([env]\n   (or\n     (:clanhr-auth-secret env)\n     (:secret env)\n     (throw (Exception. \"Can't resolve auth token\")))))\n\n(defn build-claim\n  \"Build a claim\"\n  [user]\n  {:iss user\n   :exp (plus (now) (days 10))\n   :iat (now)})\n\n(defn token-for\n  \"Creates a token for a user\"\n  [args]\n  (-> (build-claim (args :user))\n      jwt\n      (sign :HS256 (secret))\n      to-str))\n\n(defn parse\n  \"Parse token\"\n  [token]\n  (-> token str->jwt))\n\n(defn valid?\n  \"Check if token is valid\"\n  [token]\n  (if token\n    (verify token (secret))\n    false))\n\n(defn principal\n  \"Get the principal from the given token\"\n  [token]\n  (if token\n    (get-in token [:claims, :iss])\n    false))\n","markers":{"markers":{"1":{"id":1,"range":[[0,12],[0,12]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":26,"goalScreenRange":null,"preserveFolds":true},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/marcoslamuria/Documents/rupeal/clanhr/auth/src/clanhr/auth/core.clj","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"3ebf93511ca5f2efdd0c7551422c1270b89a83ef","deserializer":"TextBuffer"},{"text":"","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":30,"goalScreenRange":null,"preserveFolds":true},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/test/clanhr/directory_api/core/auth_test.clj","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"da39a3ee5e6b4b0d3255bfef95601890afd80709","deserializer":"TextBuffer"},{"text":"(ns clanhr.auth.core_test\n  (use clojure.test)\n  (require [clanhr.auth.core :as auth]))\n\n(deftest generate-token-test\n  (testing \"generation\"\n    (let [token (auth/token-for {:user \"bob_the_builder\" :password \"spoon\"})]\n      (is token)\n      (testing \"verify\")\n        (let [result (auth/parse token)]\n          (is result)\n          (is (auth/valid? result))\n          (is (= \"bob_the_builder\" (auth/principal result)))))))\n\n(deftest build-claim-test\n  (let [user {:user \"bob_the_builder\"}]\n    (is (= true\n      (contains? (auth/build-claim user) :iss)))\n    (is (= true\n      (contains? (auth/build-claim user) :exp)))\n    (is (= true\n      (contains? (auth/build-claim user) :iat)))))\n\n(deftest request-username-for-unexistent-token-test\n  (let [fake-token \"qwjkekwqbebdqwjebdqwjb\"\n        principal (auth/principal fake-token)]\n    (is (not principal))))\n\n(deftest throw-if-no-secret\n  (is (thrown-with-msg? Exception #\"Can't resolve auth token\" (auth/secret {}))))\n\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":34,"goalScreenRange":null,"preserveFolds":true},"deserializer":"Marker"},"2":{"id":2,"range":[[0,0],[0,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"3":{"id":3,"range":[[2,39],[2,40]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"4":{"id":4,"range":[[0,0],[0,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"5":{"id":5,"range":[[2,39],[2,40]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"14":{"id":14,"range":[[0,0],[0,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"15":{"id":15,"range":[[2,39],[2,40]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"16":{"id":16,"range":[[0,0],[0,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"17":{"id":17,"range":[[2,39],[2,40]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"18":{"id":18,"range":[[0,0],[0,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"19":{"id":19,"range":[[2,39],[2,40]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"20":{"id":20,"range":[[0,0],[0,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"21":{"id":21,"range":[[2,39],[2,40]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"24":{"id":24,"range":[[0,0],[0,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"25":{"id":25,"range":[[2,39],[2,40]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"26":{"id":26,"range":[[0,0],[0,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"27":{"id":27,"range":[[2,39],[2,40]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/marcoslamuria/Documents/rupeal/clanhr/auth/test/clanhr/auth/core_test.clj","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"29e7e336959fee80c4dbdf2b604a884113c55106","deserializer":"TextBuffer"},{"text":"","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"preserveFolds":true},"deserializer":"Marker"},"12":{"id":12,"range":[[0,0],[0,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"13":{"id":13,"range":[[0,0],[0,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"14":{"id":14,"range":[[0,0],[0,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"15":{"id":15,"range":[[0,0],[0,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/src/clanhr/directory_api/middlewares/auth.clj","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"da39a3ee5e6b4b0d3255bfef95601890afd80709","deserializer":"TextBuffer"},{"text":"(ns clanhr.auth.auth-middleware\n  \"Check if user is authenticated\"\n  (require [clanhr.auth.user-validator :as validator]\n           [clanhr.reply.core :as reply]\n           [ring.util.response :refer [get-header]]\n           [result.core :as result]))\n\n(defn valid?\n  [token]\n  (validator/run token))\n\n(defn extract-token-from\n  [context]\n  (or\n    (get-in context [:request :params :token])\n    (get-header context \"x-clanhr-auth-token\")))\n\n(defn- add-principal\n  \"Adds principal info to the request\"\n  [context result]\n  (let [email (get-in result [:claims :iss :email])\n        account (get-in result [:claims :iss :account])]\n    (assoc context :principal {:email email\n                               :account account})))\n\n(defn run\n  \"Performs validation\"\n  [handler]\n  (fn [context]\n    (let [token (extract-token-from context)\n          result (valid? token)]\n      (if (result/succeeded? result)\n        (handler (-> context\n                     (add-principal result)))\n        (reply/unauthorized)))))\n","markers":{"markers":{"1":{"id":1,"range":[[1,24],[1,24]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"preserveFolds":true},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/marcoslamuria/Documents/rupeal/clanhr/auth/src/clanhr/auth/auth_middleware.clj","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"df047c9018334e03bd28151e41020e37c929b149","deserializer":"TextBuffer"},{"text":"","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":48,"goalScreenRange":null,"preserveFolds":true},"deserializer":"Marker"},"6":{"id":6,"range":[[0,0],[0,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"7":{"id":7,"range":[[0,0],[0,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"8":{"id":8,"range":[[0,0],[0,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"9":{"id":9,"range":[[0,0],[0,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/test/clanhr/directory_api/middlewares/auth_test.clj","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"da39a3ee5e6b4b0d3255bfef95601890afd80709","deserializer":"TextBuffer"},{"text":"(ns clanhr.auth.auth-middleware-test\n  (require [clanhr.auth.auth-middleware :as auth-middleware]\n            [clanhr.auth.core :as auth])\n  (use clojure.test\n        ring.mock.request))\n\n(deftest auth-test\n\n  (let [response-hash {:status 200 :headers {} :body \"Foo\"}\n        data {:user \"bob_the_builder\"\n              :password \"spoon\"}\n        token (auth/token-for data)]\n    (testing \"should pass\"\n      (letfn [(handler [request]\n                response-hash)]\n        (let [req (request :get \"/\")\n              response ((auth-middleware/run handler)\n                        (header req \"x-clanhr-auth-token\" token))]\n          (is (= 200\n                 (:status response))))))\n\n    (testing \"should fail\"\n      (letfn [(handler [request]\n                response-hash)]\n        (let [response ((auth-middleware/run handler) (request :get \"/\"))]\n          (is (= 401\n                 (:status response))))))))\n","markers":{"markers":{"1":{"id":1,"range":[[27,0],[27,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":52,"goalScreenRange":null,"preserveFolds":true},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/marcoslamuria/Documents/rupeal/clanhr/auth/test/clanhr/auth/auth_middleware_test.clj","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"723d541bf057634c3422817c683a47d3557380ae","deserializer":"TextBuffer"},{"text":"(ns clanhr.directory-api.core.validate-token\n  (require [clanhr.auth.core :as auth]\n           [clanhr.directory-api.gateways.user-gateway :as user-gateway]\n           [result.core :as result]))\n\n(defn email\n  \"Get the email from the token\"\n  [token]\n  (let [principal (auth/principal token)]\n    (:email principal)))\n\n(defn run\n  \"Validate json web token\"\n  [token]\n  (if token\n    (let [parsed-token (auth/parse token)\n          is-valid? (auth/valid? parsed-token)]\n      (if is-valid?\n        (result/success parsed-token)\n        (result/failure)))\n    (result/failure)))\n","markers":{"markers":{"1":{"id":1,"range":[[20,0],[20,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":58,"goalScreenRange":null,"preserveFolds":true},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/src/clanhr/directory_api/core/validate_token.clj","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"cd65c57cbfcb5a547b1c1fc2df45d10d732e37a1","deserializer":"TextBuffer"},{"text":"","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":62,"goalScreenRange":null,"preserveFolds":true},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/marcoslamuria/Documents/rupeal/clanhr/auth/src/clanhr/auth/validator.clj","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"da39a3ee5e6b4b0d3255bfef95601890afd80709","deserializer":"TextBuffer"},{"text":"(ns clanhr.directory-api.core.validate-user-token-test\n  (use clojure.test)\n  (require [clanhr.directory-api.models.user :as user-model]\n           [clanhr.directory-api.core.validate-token :as validate-token]\n           [clanhr.directory-api.core.new-registration :as new-registration]\n           [clanhr.directory-api.gateways.common :as common-gateway]\n           [clanhr.directory-api.core.new-registration-test :as new-registration-test]\n           [result.core :as result]\n           [clanhr.auth.core :as auth]))\n\n(use-fixtures :each common-gateway/setup-test-database!)\n\n(deftest validate-user-token-test\n  (let [data (new-registration-test/generate-data)\n        result (new-registration/run! data)]\n    (is (result/succeeded? result))\n    (testing \"should succeeded\"\n      (is (get-in result [:user :token]))\n      (let [validated-result (validate-token/run (get-in result [:user :token]))]\n        (is (result/succeeded? validated-result))\n        (is (= (get-in data [:user :email])\n               (get-in result [:user :email])))\n        (is (= (get-in data [:user :first-name])\n               (get-in result [:user :first-name])))\n        (is (= (get-in data [:user :last-name])\n               (get-in result [:user :last-name])))\n        (is (= (get-in data [:user :phone])\n               (get-in result [:user :phone])))\n    (testing \"should failed\"\n      (let [another-token \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ\"\n            validate-result (validate-token/run another-token)]\n        (is (result/failed? validate-result))))))))\n","markers":{"markers":{"1":{"id":1,"range":[[32,0],[32,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":66,"goalScreenRange":null,"preserveFolds":true},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/test/clanhr/directory_api/core/validate_user_token_test.clj","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"a51d23b935afd52ae743b38e898028af79b528ff","deserializer":"TextBuffer"},{"text":"(ns clanhr.directory-api.controllers.auth-test\n  (:require [clanhr.directory-api.gateways.common :as common-gateway]\n            [clanhr.directory-api.core.new-registration-test :as new-registration-test]\n            [clanhr.directory-api.models.user :as user-model]\n            [clanhr.directory-api.controllers.client :as client])\n  (:use clojure.test\n        ring.mock.request))\n\n(use-fixtures :each common-gateway/setup-test-database!)\n\n(deftest auth-test\n  (let [data (new-registration-test/generate-data)\n        response (client/post \"/new-registration\" data)]\n    (testing \"should succeed\"\n      (let [creds (user-model/login-credentials (:user data))\n            login-response (client/post \"/login\" creds)]\n        (is login-response)\n        (is (= 200 (:status login-response)))\n        (is (get-in login-response [:body :success]))\n        (is (get-in login-response [:body :user :token]))\n        (is (= (get-in data [:user :email]) (get-in login-response [:body :user :email])))\n        (testing \"should access non public endpoint\"\n          (let [header-hash [\"x-clanhr-auth-token\" (get-in login-response [:body :user :token])]\n                my-profile-response (client/http-get \"/me\" (:user data) header-hash)]\n            (is (= 200 (:status my-profile-response)))\n            (is (= \"My Profile Page\" (get-in my-profile-response [:body :name])))))))\n    (testing \"should fail with fake-credentials\"\n      (let [fake-credentials {:email \"another@email.com\" :password \"anotherpass\"}\n            failed-login-response (client/post \"/login\" fake-credentials)]\n        (is failed-login-response)\n        (is (= 401 (:status failed-login-response)))\n        (is (= \"invalid-email-or-password\" (first(get-in failed-login-response [:body :errors]))))\n        (testing \"should failed access to non public endpoint\"\n          (let [header-parm [\"x-clanhr-auth-token\" \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ\"]\n                my-profile-response (client/http-get \"/me\" (:user data) header-parm)]\n            (is (= 401 (:status my-profile-response)))\n            (is (= \"invalid-email-or-password\" (first (get-in failed-login-response [:body :errors]))))))))\n    (testing \"should fail with no credentials\"\n      (let [failed-login-response (client/post \"/login\")]\n        (is failed-login-response)\n        (is (= 401 (:status failed-login-response)))\n        (is (= \"email-required\" (first (get-in failed-login-response [:body :errors]))))\n        (is (= \"password-required\" (second (get-in failed-login-response [:body :errors]))))))))\n","markers":{"markers":{"1":{"id":1,"range":[[42,91],[42,91]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":72,"goalScreenRange":null,"preserveFolds":true},"deserializer":"Marker"},"22":{"id":22,"range":[[42,95],[42,96]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"23":{"id":23,"range":[[10,0],[10,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"36":{"id":36,"range":[[42,95],[42,96]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"37":{"id":37,"range":[[10,0],[10,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"38":{"id":38,"range":[[42,94],[42,95]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"39":{"id":39,"range":[[11,2],[11,3]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"40":{"id":40,"range":[[42,93],[42,94]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"41":{"id":41,"range":[[37,4],[37,5]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"42":{"id":42,"range":[[42,92],[42,93]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"43":{"id":43,"range":[[38,6],[38,7]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"44":{"id":44,"range":[[42,91],[42,92]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"45":{"id":45,"range":[[42,8],[42,9]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/test/clanhr/directory_api/controllers/auth_test.clj","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"30a60158c1eaac0335747feb8b4826d2d4cf833f","deserializer":"TextBuffer"},{"text":"(ns clanhr.directory-api.controllers.list-users-test\n  (:require [clanhr.directory-api.gateways.common :as common-gateway]\n            [clanhr.directory-api.core.data.new-account :as new-account-data]\n            [clanhr.directory-api.controllers.new-registration-test]\n            [clanhr.directory-api.controllers.client :as client])\n  (:use clojure.test))\n\n(use-fixtures :each common-gateway/setup-test-database!)\n\n(def query {:per-page 10 :page 1})\n\n(defn new-registration\n  \"Creates a new shiny registration\"\n  []\n  (let [data (new-account-data/generate-data)]\n    [data (client/post \"/new-registration\" data)]))\n\n(defn create-20-accounts\n  \"Create 20 account\"\n  []\n  (dotimes [n 20] (new-registration)))\n\n(deftest list-users-test\n  (let [[data response] (new-registration)\n        [data2 response2] (create-20-accounts)\n        user (get-in response [:body :user])\n        url (str \"/users?per-page=\" (:per-page query) \"&page=\" (:page query))\n        response-status (client/auth-get user url)\n        list-users (get-in response-status [:body :data])]\n    (is (= 200 (:status response-status)))\n    (is (get-in response-status [:body :success]))\n    (is (= (str (:page query))\n        (str (get-in response-status [:body :current-page]))))\n    (is (= 1 (get-in response-status [:body :number-of-pages])))\n    (is (= 1 (count list-users)))))\n\n(deftest list-users-without-params-test\n  (let [[data response] (new-registration)\n        [data2 response2] (new-registration)\n        user (get-in response [:body :user])\n        url (str \"/users\")\n        response-status (client/auth-get user url)\n        list-users (get-in response-status [:body :data])]\n    (is (= 200 (:status response-status)))\n    (is (get-in response-status [:body :success]))\n    (is (= (:page query)\n        (get-in response-status [:body :current-page])))\n    (is (= 1 (count list-users)))))\n","markers":{"markers":{"1":{"id":1,"range":[[48,0],[48,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":78,"goalScreenRange":null,"preserveFolds":true},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/test/clanhr/directory_api/controllers/list_users_test.clj","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"64c961f0552206e29955f65784af41926847e356","deserializer":"TextBuffer"},{"text":"(ns clanhr.absences-api.controllers.list-absences\n  \"Handles list absences\"\n  (require [clanhr.absences-api.core.list-absences :as list-absences]\n           [result.core :as result]\n           [clanhr.reply.core :as reply]\n           [clanhr.reply.json :as json]))\n\n(defn handler\n  \"Handlers list absences\"\n  [request]\n  (let [per-page (get-in request [:params :per-page])\n        page (get-in request [:params :page])\n        user-id (get-in request [:params :user-id])\n        principal (:principal request)\n        params (:params request)\n        result (list-absences/run! principal user-id params)]\n    (if (result/succeeded? result)\n      (reply/ok result)\n      (reply/bad-request result))))\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":82,"goalScreenRange":null,"preserveFolds":true},"deserializer":"Marker"},"4":{"id":4,"range":[[0,0],[0,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"5":{"id":5,"range":[[5,40],[5,41]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"16":{"id":16,"range":[[0,0],[0,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"17":{"id":17,"range":[[5,40],[5,41]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"20":{"id":20,"range":[[0,0],[0,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"21":{"id":21,"range":[[5,40],[5,41]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"32":{"id":32,"range":[[0,0],[0,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"33":{"id":33,"range":[[5,40],[5,41]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"34":{"id":34,"range":[[0,0],[0,1]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"35":{"id":35,"range":[[5,40],[5,41]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/marcoslamuria/Documents/rupeal/clanhr/absences-api/src/clanhr/absences_api/controllers/list_absences.clj","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"6aee6b4cb68c3c3a8b5709bb0c1947963a7ac026","deserializer":"TextBuffer"},{"text":"","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":92,"goalScreenRange":null,"preserveFolds":true},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/src/clanhr/directory_api/gateways/mongodb/common.clj","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"da39a3ee5e6b4b0d3255bfef95601890afd80709","deserializer":"TextBuffer"},{"text":"{:absence {:updated-at #object[org.joda.time.DateTime 0x5dc5c213 2015-07-09T15:23:48.438Z],\n           :_id #uuid \"eb7b4cb1-9a83-4f98-81a7-17763c453ddf\",\n           :absence-type vacations,\n           :observations my second vacations,\n           :end-date #object[org.joda.time.DateTime 0x2ac2396c 2015-02-03T00:00:00.000Z],\n           :user-id #uuid \"64bed49a-5e95-4880-a3a8-88f82fc3ba1b\",\n           :state deleted,\n           :success true,\n           :start-date #object[org.joda.time.DateTime 0x73960820 2015-02-03T00:00:00.000Z],\n           :created-at #object[org.joda.time.DateTime 0x25829025 2015-07-09T15:23:45.221Z],\n           :user {:success false, :data Not found, :current-vacations 1, :current-absence-hours 0}},\n :user {:_id #uuid \"64bed49a-5e95-4880-a3a8-88f82fc3ba1b\",\n        :current-vacations -1,\n        :total-vacations 22, \n        :created-at #inst \"2015-07-09T15:23:45.221-00:00\", \n        :updated-at #inst \"2015-07-09T15:23:45.221-00:00\", \n        :current-absence-hours 0}, \n:success true}","markers":{"markers":{"1":{"id":1,"range":[[10,34],[10,34]],"tailed":false,"reversed":true,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":96,"goalScreenRange":null,"preserveFolds":true},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[{"deserializer":"Checkpoint"},{"patches":[{"oldRange":[[0,0],[0,0]],"newRange":[[0,0],[0,609]],"oldText":"","newText":"{\"personal-data\":{\"name\":\"Bruce Norris\"},\"company-data\":{\"phone\":\"12121212\",\"approver-email\":\"6107-1436374454383@brucenorris.com\",\"approver-name\":\"Bruce Norris\"},\"system\":{\"status\":\"active\",\"roles\":[\"admin\",\"manager\"],\"email\":\"6107-1436374454383@brucenorris.com\",\"password\":\"pbkdf2+sha256$35633331393366302d656434342d346136632d613066362d386562316163363232343438$100000$29f82b7bf7e2156c2ad5a8bb495d94e6b7b2a2e1\",\"language\":\"en\",\"auto-test\":true,\"password-salt\":\"5c3193f0-ed44-4a6c-a0f6-8eb1ac622448\",\"account\":\"b14c45b8-a4f4-4329-a6b1-f5ca5d0285a7\"},\"_id\":\"9b77956c-f9fc-4440-a157-0687fd4c74b5\",\"success\":true}","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[0,0],[0,0]],"newRange":[[0,0],[0,0]],"oldText":"","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"5":{"range":[[0,0],[0,1]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[0,0],[0,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[0,17],[0,17]],"newRange":[[0,17],[1,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"oldMarkersSnapshot":{"18":{"range":[[0,17],[0,18]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[1,0],[1,0]],"newRange":[[1,0],[1,0]],"oldText":"","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"22":{"range":[[1,0],[1,1]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[0,17],[0,17]],"valid":true},"18":{"range":[[0,17],[0,18]],"valid":true},"19":{"range":[[0,39],[0,40]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[1,0],[1,0]],"newRange":[[1,0],[1,2]],"oldText":"","newText":"  ","normalizeLineEndings":true,"oldMarkersSnapshot":{"24":{"range":[[1,0],[1,1]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[1,0],[1,0]],"valid":true},"24":{"range":[[1,0],[1,1]],"valid":true},"25":{"range":[[1,22],[1,23]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[1,26],[1,26]],"newRange":[[1,26],[2,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[2,0],[2,0]],"newRange":[[2,0],[2,2]],"oldText":"","newText":"  ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[1,26],[1,26]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[2,2],[2,2]],"reversed":false},"newParams":{"range":[[2,0],[2,2]],"reversed":true},"deserializer":"MarkerPatch"},{"oldRange":[[2,0],[2,2]],"newRange":[[2,0],[2,0]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[2,0],[2,2]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[2,2],[2,2]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[2,0],[2,0]],"newRange":[[2,0],[2,1]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[2,0],[2,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[2,36],[2,36]],"newRange":[[2,36],[3,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[3,0],[3,0]],"newRange":[[3,0],[3,1]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[2,36],[2,36]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[3,1],[3,1]],"newRange":[[3,1],[3,2]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[3,2],[3,2]],"newRange":[[3,2],[3,3]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[3,3],[3,3]],"newRange":[[3,3],[3,4]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[3,4],[3,4]],"newRange":[[3,4],[3,5]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[3,5],[3,5]],"newRange":[[3,5],[3,6]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[3,6],[3,6]],"newRange":[[3,6],[3,7]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[3,7],[3,7]],"newRange":[[3,7],[3,8]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[3,8],[3,8]],"newRange":[[3,8],[3,9]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[3,9],[3,9]],"newRange":[[3,9],[3,10]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[3,10],[3,10]],"newRange":[[3,10],[3,11]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[3,11],[3,11]],"newRange":[[3,11],[3,12]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[3,12],[3,12]],"newRange":[[3,12],[3,13]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[3,13],[3,13]],"newRange":[[3,13],[3,14]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[3,14],[3,14]],"newRange":[[3,14],[3,15]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[3,15],[3,15]],"newRange":[[3,15],[3,16]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[3,16],[3,16]],"newRange":[[3,16],[3,17]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[3,17],[3,17]],"newRange":[[3,17],[3,18]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[3,1],[3,1]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[3,18],[3,18]]},"newParams":{"range":[[3,16],[3,18]]},"deserializer":"MarkerPatch"},{"oldRange":[[3,16],[3,18]],"newRange":[[3,16],[3,16]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[3,16],[3,18]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[3,18],[3,18]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[3,16],[3,16]],"newRange":[[3,16],[3,17]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[3,16],[3,16]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[3,71],[3,71]],"newRange":[[3,71],[4,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[4,17]],"oldText":"","newText":"                 ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[3,71],[3,71]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[4,49],[4,49]],"newRange":[[4,49],[5,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[5,0],[5,0]],"newRange":[[5,0],[5,17]],"oldText":"","newText":"                 ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[4,49],[4,49]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[5,17],[5,17]]},"newParams":{"range":[[5,16],[5,17]]},"deserializer":"MarkerPatch"},{"oldRange":[[5,16],[5,17]],"newRange":[[5,16],[5,16]],"oldText":" ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[5,16],[5,17]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[5,16],[5,16]]},"newParams":{"range":[[5,14],[5,16]]},"deserializer":"MarkerPatch"},{"oldRange":[[5,14],[5,16]],"newRange":[[5,14],[5,14]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[5,14],[5,16]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[5,14],[5,14]]},"newParams":{"range":[[5,12],[5,14]]},"deserializer":"MarkerPatch"},{"oldRange":[[5,12],[5,14]],"newRange":[[5,12],[5,12]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[5,12],[5,14]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[5,12],[5,12]]},"newParams":{"range":[[5,10],[5,12]]},"deserializer":"MarkerPatch"},{"oldRange":[[5,10],[5,12]],"newRange":[[5,10],[5,10]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[5,10],[5,12]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[5,17],[5,17]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[5,10],[5,10]]},"newParams":{"range":[[5,8],[5,10]]},"deserializer":"MarkerPatch"},{"oldRange":[[5,8],[5,10]],"newRange":[[5,8],[5,8]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[5,8],[5,10]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[5,8],[5,8]]},"newParams":{"range":[[5,6],[5,8]]},"deserializer":"MarkerPatch"},{"oldRange":[[5,6],[5,8]],"newRange":[[5,6],[5,6]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[5,6],[5,8]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[5,6],[5,6]]},"newParams":{"range":[[5,4],[5,6]]},"deserializer":"MarkerPatch"},{"oldRange":[[5,4],[5,6]],"newRange":[[5,4],[5,4]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[5,4],[5,6]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[5,4],[5,4]]},"newParams":{"range":[[5,2],[5,4]]},"deserializer":"MarkerPatch"},{"oldRange":[[5,2],[5,4]],"newRange":[[5,2],[5,2]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[5,2],[5,4]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[5,10],[5,10]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[5,2],[5,2]]},"newParams":{"range":[[5,0],[5,2]]},"deserializer":"MarkerPatch"},{"oldRange":[[5,0],[5,2]],"newRange":[[5,0],[5,0]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[5,0],[5,2]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[5,2],[5,2]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[5,0],[5,0]],"newRange":[[5,0],[5,1]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[5,0],[5,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[5,29],[5,29]],"newRange":[[5,29],[6,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[6,0],[6,0]],"newRange":[[6,0],[6,1]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[5,29],[5,29]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[6,1],[6,1]],"newRange":[[6,1],[6,2]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[6,2],[6,2]],"newRange":[[6,2],[6,3]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[6,3],[6,3]],"newRange":[[6,3],[6,4]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[6,4],[6,4]],"newRange":[[6,4],[6,5]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[6,5],[6,5]],"newRange":[[6,5],[6,6]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[6,6],[6,6]],"newRange":[[6,6],[6,7]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[6,7],[6,7]],"newRange":[[6,7],[6,8]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[6,8],[6,8]],"newRange":[[6,8],[6,9]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[6,9],[6,9]],"newRange":[[6,9],[6,10]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[6,10],[6,10]],"newRange":[[6,10],[6,11]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[6,1],[6,1]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[6,39],[6,39]],"newRange":[[6,39],[7,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[7,0],[7,0]],"newRange":[[7,0],[7,11]],"oldText":"","newText":"           ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[6,39],[6,39]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[7,56],[7,56]],"newRange":[[7,56],[8,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[8,0],[8,0]],"newRange":[[8,0],[8,11]],"oldText":"","newText":"           ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[7,56],[7,56]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[8,297],[8,297]],"newRange":[[8,297],[9,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[9,0],[9,0]],"newRange":[[9,0],[9,11]],"oldText":"","newText":"           ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[8,297],[8,297]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[8,159],[8,159]],"newRange":[[8,159],[9,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[9,0],[9,0]],"newRange":[[9,0],[9,11]],"oldText":"","newText":"           ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[8,159],[8,159]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[9,27],[9,27]],"newRange":[[9,27],[10,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[10,0],[10,0]],"newRange":[[10,0],[10,11]],"oldText":"","newText":"           ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[9,27],[9,27]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[10,28],[10,28]],"newRange":[[10,28],[11,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[11,0],[11,0]],"newRange":[[11,0],[11,11]],"oldText":"","newText":"           ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[10,28],[10,28]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[11,66],[11,66]],"newRange":[[11,66],[12,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[12,0],[12,0]],"newRange":[[12,0],[12,11]],"oldText":"","newText":"           ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[11,66],[11,66]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[13,11],[13,11]]},"newParams":{"range":[[13,10],[13,11]]},"deserializer":"MarkerPatch"},{"oldRange":[[13,10],[13,11]],"newRange":[[13,10],[13,10]],"oldText":" ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[13,10],[13,11]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[13,11],[13,11]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[13,10],[13,10]]},"newParams":{"range":[[13,8],[13,10]]},"deserializer":"MarkerPatch"},{"oldRange":[[13,8],[13,10]],"newRange":[[13,8],[13,8]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[13,8],[13,10]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[13,8],[13,8]]},"newParams":{"range":[[13,6],[13,8]]},"deserializer":"MarkerPatch"},{"oldRange":[[13,6],[13,8]],"newRange":[[13,6],[13,6]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[13,6],[13,8]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[13,6],[13,6]]},"newParams":{"range":[[13,4],[13,6]]},"deserializer":"MarkerPatch"},{"oldRange":[[13,4],[13,6]],"newRange":[[13,4],[13,4]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[13,4],[13,6]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[13,10],[13,10]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[13,4],[13,4]]},"newParams":{"range":[[13,2],[13,4]]},"deserializer":"MarkerPatch"},{"oldRange":[[13,2],[13,4]],"newRange":[[13,2],[13,2]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[13,2],[13,4]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[13,4],[13,4]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[13,47],[13,47]],"newRange":[[13,47],[14,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[14,0],[14,0]],"newRange":[[14,0],[14,2]],"oldText":"","newText":"  ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[13,47],[13,47]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[0,0],[14,17]],"newRange":[[0,0],[0,0]],"oldText":"{\"personal-data\":\n  {\"name\":\"Bruce Norris\"},\n \"company-data\":{\"phone\":\"12121212\",\n                 \"approver-email\":\"6107-1436374454383@brucenorris.com\",\n                 \"approver-name\":\"Bruce Norris\"},\n \"system\":{\"status\":\"active\",\n           \"roles\":[\"admin\",\"manager\"],\n           \"email\":\"6107-1436374454383@brucenorris.com\",\n           \"password\":\"pbkdf2+sha256$35633331393366302d656434342d346136632d613066362d386562316163363232343438$100000$29f82b7bf7e2156c2ad5a8bb495d94e6b7b2a2e1\",\n           \"language\":\"en\",\n           \"auto-test\":true,\n           \"password-salt\":\"5c3193f0-ed44-4a6c-a0f6-8eb1ac622448\",\n           \"account\":\"b14c45b8-a4f4-4329-a6b1-f5ca5d0285a7\"},\n  \"_id\":\"9b77956c-f9fc-4440-a157-0687fd4c74b5\",\n  \"success\":true}","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[0,0],[14,17]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[0,0],[14,17]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[0,0],[0,0]],"newRange":[[0,0],[0,865]],"oldText":"","newText":"{:absence {:updated-at #object[org.joda.time.DateTime 0x5dc5c213 2015-07-09T15:23:48.438Z], :_id #uuid \"eb7b4cb1-9a83-4f98-81a7-17763c453ddf\", :absence-type vacations, :observations my second vacations, :end-date #object[org.joda.time.DateTime 0x2ac2396c 2015-02-03T00:00:00.000Z], :user-id #uuid \"64bed49a-5e95-4880-a3a8-88f82fc3ba1b\", :state deleted, :success true, :start-date #object[org.joda.time.DateTime 0x73960820 2015-02-03T00:00:00.000Z], :created-at #object[org.joda.time.DateTime 0x25829025 2015-07-09T15:23:45.221Z], :user {:success false, :data Not found, :current-vacations 1, :current-absence-hours 0}}, :user {:_id #uuid \"64bed49a-5e95-4880-a3a8-88f82fc3ba1b\", :current-vacations -1, :total-vacations 22, :created-at #inst \"2015-07-09T15:23:45.221-00:00\", :updated-at #inst \"2015-07-09T15:23:45.221-00:00\", :current-absence-hours 0}, :success true}","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[0,0],[0,0]],"newRange":[[0,0],[0,0]],"oldText":"","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"77":{"range":[[0,0],[0,1]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[0,0],[0,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[0,92],[0,92]]},"newParams":{"range":[[0,91],[0,92]]},"deserializer":"MarkerPatch"},{"oldRange":[[0,91],[0,92]],"newRange":[[0,91],[0,91]],"oldText":" ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[0,91],[0,92]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[0,92],[0,92]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[0,91],[0,91]],"newRange":[[0,91],[1,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[1,0],[1,0]],"newRange":[[1,0],[1,2]],"oldText":"","newText":"  ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[0,91],[0,91]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[1,2],[1,2]],"newRange":[[1,2],[1,3]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[1,3],[1,3]],"newRange":[[1,3],[1,4]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[1,4],[1,4]],"newRange":[[1,4],[1,5]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[1,5],[1,5]],"newRange":[[1,5],[1,6]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[1,6],[1,6]],"newRange":[[1,6],[1,7]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[1,7],[1,7]],"newRange":[[1,7],[1,8]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[1,8],[1,8]],"newRange":[[1,8],[1,9]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[1,9],[1,9]],"newRange":[[1,9],[1,10]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[1,10],[1,10]],"newRange":[[1,10],[1,11]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[1,2],[1,2]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[1,62],[1,62]]},"newParams":{"range":[[1,61],[1,62]]},"deserializer":"MarkerPatch"},{"oldRange":[[1,61],[1,62]],"newRange":[[1,61],[1,61]],"oldText":" ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[1,61],[1,62]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"oldRange":[[1,61],[1,61]],"newRange":[[1,61],[2,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[2,0],[2,0]],"newRange":[[2,0],[2,11]],"oldText":"","newText":"           ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[1,62],[1,62]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[2,36],[2,36]]},"newParams":{"range":[[2,35],[2,36]]},"deserializer":"MarkerPatch"},{"oldRange":[[2,35],[2,36]],"newRange":[[2,35],[2,35]],"oldText":" ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[2,35],[2,36]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"oldRange":[[2,35],[2,35]],"newRange":[[2,35],[3,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[3,0],[3,0]],"newRange":[[3,0],[3,11]],"oldText":"","newText":"           ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[2,36],[2,36]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[3,46],[3,46]]},"newParams":{"range":[[3,45],[3,46]]},"deserializer":"MarkerPatch"},{"oldRange":[[3,45],[3,46]],"newRange":[[3,45],[3,45]],"oldText":" ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[3,45],[3,46]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[3,46],[3,46]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[3,45],[3,45]],"newRange":[[3,45],[4,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[4,11]],"oldText":"","newText":"           ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[3,45],[3,45]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[4,90],[4,90]]},"newParams":{"range":[[4,89],[4,90]]},"deserializer":"MarkerPatch"},{"oldRange":[[4,89],[4,90]],"newRange":[[4,89],[4,89]],"oldText":" ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[4,89],[4,90]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"oldRange":[[4,89],[4,89]],"newRange":[[4,89],[5,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[5,0],[5,0]],"newRange":[[5,0],[5,11]],"oldText":"","newText":"           ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[4,90],[4,90]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[5,66],[5,66]]},"newParams":{"range":[[5,65],[5,66]]},"deserializer":"MarkerPatch"},{"oldRange":[[5,65],[5,66]],"newRange":[[5,65],[5,65]],"oldText":" ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[5,65],[5,66]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[5,66],[5,66]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[5,65],[5,65]],"newRange":[[5,65],[6,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[6,0],[6,0]],"newRange":[[6,0],[6,11]],"oldText":"","newText":"           ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[5,65],[5,65]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[6,27],[6,27]]},"newParams":{"range":[[6,26],[6,27]]},"deserializer":"MarkerPatch"},{"oldRange":[[6,26],[6,27]],"newRange":[[6,26],[6,26]],"oldText":" ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[6,26],[6,27]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[6,27],[6,27]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[6,26],[6,26]],"newRange":[[6,26],[7,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[7,0],[7,0]],"newRange":[[7,0],[7,11]],"oldText":"","newText":"           ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[6,26],[6,26]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[7,26],[7,26]]},"newParams":{"range":[[7,25],[7,26]]},"deserializer":"MarkerPatch"},{"oldRange":[[7,25],[7,26]],"newRange":[[7,25],[7,25]],"oldText":" ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[7,25],[7,26]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"oldRange":[[7,25],[7,25]],"newRange":[[7,25],[8,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[8,0],[8,0]],"newRange":[[8,0],[8,11]],"oldText":"","newText":"           ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[7,26],[7,26]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[8,92],[8,92]]},"newParams":{"range":[[8,91],[8,92]]},"deserializer":"MarkerPatch"},{"oldRange":[[8,91],[8,92]],"newRange":[[8,91],[8,91]],"oldText":" ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[8,91],[8,92]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[8,92],[8,92]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[8,91],[8,91]],"newRange":[[8,91],[9,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[9,0],[9,0]],"newRange":[[9,0],[9,11]],"oldText":"","newText":"           ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[8,91],[8,91]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[9,92],[9,92]]},"newParams":{"range":[[9,91],[9,92]]},"deserializer":"MarkerPatch"},{"oldRange":[[9,91],[9,92]],"newRange":[[9,91],[9,91]],"oldText":" ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[9,91],[9,92]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"oldRange":[[9,91],[9,91]],"newRange":[[9,91],[10,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[10,0],[10,0]],"newRange":[[10,0],[10,11]],"oldText":"","newText":"           ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[9,92],[9,92]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[10,98],[10,98]],"newRange":[[10,98],[11,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"oldMarkersSnapshot":{"134":{"range":[[10,98],[10,99]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[11,0],[11,0]],"newRange":[[11,0],[11,11]],"oldText":"","newText":"           ","normalizeLineEndings":true,"oldMarkersSnapshot":{"138":{"range":[[11,0],[11,1]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[10,98],[10,98]],"valid":true},"134":{"range":[[10,98],[10,99]],"valid":true},"135":{"range":[[0,10],[0,11]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[11,0],[11,11]],"newRange":[[11,0],[11,0]],"oldText":"           ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[11,0],[11,11]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[11,0],[11,11]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[11,0],[11,0]],"reversed":false},"newParams":{"range":[[10,98],[11,0]],"reversed":true},"deserializer":"MarkerPatch"},{"oldRange":[[10,98],[11,0]],"newRange":[[10,98],[10,98]],"oldText":"\n","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[10,98],[11,0]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[11,0],[11,0]],"valid":true},"162":{"range":[[11,0],[11,1]],"valid":true},"163":{"range":[[0,10],[0,11]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[10,100],[10,101]],"newRange":[[10,100],[10,100]],"oldText":" ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[10,100],[10,101]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[10,100],[10,101]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[10,100],[10,100]],"newRange":[[10,100],[11,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[11,0],[11,0]],"newRange":[[11,0],[11,11]],"oldText":"","newText":"           ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[10,100],[10,100]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[11,11],[11,11]]},"newParams":{"range":[[11,10],[11,11]]},"deserializer":"MarkerPatch"},{"oldRange":[[11,10],[11,11]],"newRange":[[11,10],[11,10]],"oldText":" ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[11,10],[11,11]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[11,11],[11,11]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[11,10],[11,10]]},"newParams":{"range":[[11,8],[11,10]]},"deserializer":"MarkerPatch"},{"oldRange":[[11,8],[11,10]],"newRange":[[11,8],[11,8]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[11,8],[11,10]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[11,8],[11,8]]},"newParams":{"range":[[11,6],[11,8]]},"deserializer":"MarkerPatch"},{"oldRange":[[11,6],[11,8]],"newRange":[[11,6],[11,6]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[11,6],[11,8]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[11,6],[11,6]]},"newParams":{"range":[[11,4],[11,6]]},"deserializer":"MarkerPatch"},{"oldRange":[[11,4],[11,6]],"newRange":[[11,4],[11,4]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[11,4],[11,6]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[11,10],[11,10]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[11,4],[11,4]]},"newParams":{"range":[[11,2],[11,4]]},"deserializer":"MarkerPatch"},{"oldRange":[[11,2],[11,4]],"newRange":[[11,2],[11,2]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[11,2],[11,4]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[11,4],[11,4]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[11,2],[11,2]]},"newParams":{"range":[[11,0],[11,2]]},"deserializer":"MarkerPatch"},{"oldRange":[[11,0],[11,2]],"newRange":[[11,0],[11,0]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[11,0],[11,2]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[11,2],[11,2]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[11,0],[11,0]],"newRange":[[11,0],[11,1]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[11,0],[11,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[11,58],[11,59]],"newRange":[[11,58],[11,58]],"oldText":" ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[11,58],[11,59]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[11,58],[11,59]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[11,58],[11,58]],"newRange":[[11,58],[12,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[12,0],[12,0]],"newRange":[[12,0],[12,1]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[11,58],[11,58]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[12,1],[12,1]],"newRange":[[12,1],[12,2]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[12,2],[12,2]],"newRange":[[12,2],[12,3]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[12,3],[12,3]],"newRange":[[12,3],[12,4]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[12,4],[12,4]],"newRange":[[12,4],[12,5]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[12,1],[12,1]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[12,5],[12,5]],"newRange":[[12,5],[12,6]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[12,6],[12,6]],"newRange":[[12,6],[12,7]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[12,5],[12,5]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[12,7],[12,7]],"newRange":[[12,7],[12,8]],"oldText":"","newText":" ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[12,7],[12,7]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[12,31],[12,31]]},"newParams":{"range":[[12,30],[12,31]]},"deserializer":"MarkerPatch"},{"oldRange":[[12,30],[12,31]],"newRange":[[12,30],[12,30]],"oldText":" ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[12,30],[12,31]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"oldRange":[[12,30],[12,30]],"newRange":[[12,30],[13,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[13,0],[13,0]],"newRange":[[13,0],[13,8]],"oldText":"","newText":"        ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[12,31],[12,31]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[13,29],[13,29]],"newRange":[[13,29],[14,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[14,0],[14,0]],"newRange":[[14,0],[14,8]],"oldText":"","newText":"        ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[13,29],[13,29]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,59],[14,59]],"newRange":[[14,59],[15,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[15,0],[15,0]],"newRange":[[15,0],[15,8]],"oldText":"","newText":"        ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[14,59],[14,59]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[15,59],[15,59]],"newRange":[[15,59],[16,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[16,0],[16,0]],"newRange":[[16,0],[16,8]],"oldText":"","newText":"        ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[15,59],[15,59]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[16,35],[16,35]],"newRange":[[16,35],[17,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"deserializer":"BufferPatch"},{"oldRange":[[17,0],[17,0]],"newRange":[[17,0],[17,8]],"oldText":"","newText":"        ","normalizeLineEndings":true,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[16,35],[16,35]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[17,8],[17,8]]},"newParams":{"range":[[17,6],[17,8]]},"deserializer":"MarkerPatch"},{"oldRange":[[17,6],[17,8]],"newRange":[[17,6],[17,6]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[17,6],[17,8]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[17,8],[17,8]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[17,6],[17,6]]},"newParams":{"range":[[17,4],[17,6]]},"deserializer":"MarkerPatch"},{"oldRange":[[17,4],[17,6]],"newRange":[[17,4],[17,4]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[17,4],[17,6]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[17,6],[17,6]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[17,4],[17,4]]},"newParams":{"range":[[17,2],[17,4]]},"deserializer":"MarkerPatch"},{"oldRange":[[17,2],[17,4]],"newRange":[[17,2],[17,2]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[17,2],[17,4]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[17,4],[17,4]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[17,2],[17,2]]},"newParams":{"range":[[17,0],[17,2]]},"deserializer":"MarkerPatch"},{"oldRange":[[17,0],[17,2]],"newRange":[[17,0],[17,0]],"oldText":"  ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[17,0],[17,2]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[17,2],[17,2]],"valid":true}},"deserializer":"Transaction"}],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/marcoslamuria/Documents/rupeal/clanhr/absences-api/src/clanhr/absences_api/gateways/mongo/common.clj","modifiedWhenLastPersisted":true,"digestWhenLastPersisted":"da39a3ee5e6b4b0d3255bfef95601890afd80709","deserializer":"TextBuffer"},{"text":"","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":88,"goalScreenRange":null},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","modifiedWhenLastPersisted":false,"deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"id":3,"items":[{"id":8,"softTabs":true,"displayBuffer":{"id":9,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/absences-api/src/clanhr/absences_api/controllers/routes.clj","invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":16,"softTabs":true,"displayBuffer":{"id":17,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/absences-api/src/clanhr/absences_api/controllers/index.clj","invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":22,"softTabs":true,"displayBuffer":{"id":23,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/src/clanhr/directory_api/core/auth.clj","invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":26,"softTabs":true,"displayBuffer":{"id":27,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/auth/src/clanhr/auth/core.clj","invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":30,"softTabs":true,"displayBuffer":{"id":31,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/test/clanhr/directory_api/core/auth_test.clj","invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":34,"softTabs":true,"displayBuffer":{"id":35,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/auth/test/clanhr/auth/core_test.clj","invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":40,"softTabs":true,"displayBuffer":{"id":41,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/src/clanhr/directory_api/middlewares/auth.clj","invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":44,"softTabs":true,"displayBuffer":{"id":45,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/auth/src/clanhr/auth/auth_middleware.clj","invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":48,"softTabs":true,"displayBuffer":{"id":49,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/test/clanhr/directory_api/middlewares/auth_test.clj","invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":52,"softTabs":true,"displayBuffer":{"id":53,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/auth/test/clanhr/auth/auth_middleware_test.clj","invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":58,"softTabs":true,"displayBuffer":{"id":59,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/src/clanhr/directory_api/core/validate_token.clj","invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":62,"softTabs":true,"displayBuffer":{"id":63,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/auth/src/clanhr/auth/validator.clj","invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":66,"softTabs":true,"displayBuffer":{"id":67,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/test/clanhr/directory_api/core/validate_user_token_test.clj","invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":72,"softTabs":true,"displayBuffer":{"id":73,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/test/clanhr/directory_api/controllers/auth_test.clj","invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":78,"softTabs":true,"displayBuffer":{"id":79,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/test/clanhr/directory_api/controllers/list_users_test.clj","invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":82,"softTabs":true,"displayBuffer":{"id":83,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/absences-api/src/clanhr/absences_api/controllers/list_absences.clj","invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":88,"softTabs":true,"displayBuffer":{"id":89,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":92,"softTabs":true,"displayBuffer":{"id":93,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/src/clanhr/directory_api/gateways/mongodb/common.clj","invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":96,"softTabs":true,"displayBuffer":{"id":97,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/absences-api/src/clanhr/absences_api/gateways/mongo/common.clj","invisibles":null,"deserializer":"TokenizedBuffer"},"invisibles":null,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"}],"activeItemURI":"/Users/marcoslamuria/Documents/rupeal/clanhr/absences-api/src/clanhr/absences_api/gateways/mongo/common.clj","focused":true,"flexScale":1,"deserializer":"Pane"},"activePaneId":3,"deserializer":"PaneContainer","version":1},"fullScreen":false,"packagesWithActiveGrammars":["language-clojure","language-hyperlink","language-todo"],"deserializer":"Workspace"},"packageStates":{"fuzzy-finder":{"/Users/marcoslamuria/Documents/rupeal/clanhr/absences-api/src/clanhr/absences_api/controllers/routes.clj":1430908562316,"/Users/marcoslamuria/Documents/rupeal/clanhr/absences-api/src/clanhr/absences_api/controllers/index.clj":1431008020053,"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/src/clanhr/directory_api/core/auth.clj":1431008048287,"/Users/marcoslamuria/Documents/rupeal/clanhr/auth/src/clanhr/auth/core.clj":1431008066831,"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/test/clanhr/directory_api/core/auth_test.clj":1431008116824,"/Users/marcoslamuria/Documents/rupeal/clanhr/auth/test/clanhr/auth/core_test.clj":1431011418130,"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/src/clanhr/directory_api/middlewares/auth.clj":1431011447772,"/Users/marcoslamuria/Documents/rupeal/clanhr/auth/src/clanhr/auth/auth_middleware.clj":1431011483215,"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/test/clanhr/directory_api/middlewares/auth_test.clj":1431011539384,"/Users/marcoslamuria/Documents/rupeal/clanhr/auth/test/clanhr/auth/auth_middleware_test.clj":1431011817315,"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/src/clanhr/directory_api/core/validate_token.clj":1431011857335,"/Users/marcoslamuria/Documents/rupeal/clanhr/auth/src/clanhr/auth/validator.clj":1431011876530,"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/test/clanhr/directory_api/core/validate_user_token_test.clj":1431078732977,"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/test/clanhr/directory_api/controllers/auth_test.clj":1431422251913,"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/test/clanhr/directory_api/controllers/list_users_test.clj":1431422272020,"/Users/marcoslamuria/Documents/rupeal/clanhr/absences-api/src/clanhr/absences_api/controllers/list_absences.clj":1431508958084,"/Users/marcoslamuria/Documents/rupeal/clanhr/directory-api/src/clanhr/directory_api/gateways/mongodb/common.clj":1431508986601,"/Users/marcoslamuria/Documents/rupeal/clanhr/absences-api/src/clanhr/absences_api/gateways/mongo/common.clj":1436451423283},"metrics":{"sessionLength":78830232},"tree-view":{"directoryExpansionStates":{"/Users/marcoslamuria/Documents/rupeal/clanhr/absences-api/src/clanhr/absences_api/controllers":{"isExpanded":true,"entries":{}}},"selectedPath":"/Users/marcoslamuria/Documents/rupeal/clanhr/absences-api/src/clanhr/absences_api/controllers","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200},"keybinding-resolver":{}}}